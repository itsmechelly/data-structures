Amazon Academy has recently organized a scholarship test on its platform. A total of n stidents participated in the test. Each student received a unique roll number, i. Each student's rank is stored at rank[i]. Each student gets a unique rank, so rank is a permutation of values 1 through n.

For improved collaboration, the students are to be divided into groups. Use the following rules to find the imbalance of a group of students.

A group has k students where 1<= k <= n.
Groups are formed of k students in ranks with consecutive roll numbers, i.e., *i, (i+1),....(i+k-1).
The ranks of the students in a group are then sorted ascending to an array, here named sorted_rank.
The imbalance of the group is then defined as the number of students j, who are more than 1 rank beneath the rank of the student just ahead of them, i.e., sorted_rank[j] - sorted_rank[j-1] > 1.
For example, the rank in a group are [1, 5, 4] so sorted_rank = [1, 4, 5].

4-1 = 3 and 3 > 1. This adds 1 to imbalance.
5-4 = 1 and 1 == 1. This does not add to the imbalance.
The imbalance is 1.

Given the ranks of n students, find the total sum of the imbalance of all possible groups.

Example
rank = [4, 1, 3, 2]
Output: 3
Explanation
All groups and their corresponding imbalances are:

[1] -> [1], imbalance = 0
[2] -> [2], imbalance = 0
[3] -> [3], imbalance = 0
[4] -> [4], imbalance = 0
[4, 1] -> [1, 4], imbalance = 1
[1, 3] -> [1, 3], imbalance = 1
[3, 2] -> [2, 3], imbalance = 0
[4, 1, 3] -> [1, 3, 4], imbalance = 1
[1, 3, 2] -> [1, 2, 3], imbalance = 0
[4, 1, 3, 2] -> [1, 2, 3, 4], imbalance = 0
Summing it up, total imbalance is 3.

---

https://www.geeksforgeeks.org/amazon-interview-experience-for-sde-ii-2
https://leetcode.com/discuss/interview-experience/1844741/amazon-sde2-online-assesment/1417651